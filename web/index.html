<!DOCTYPE HTML>
<html lang="en_US">
    <head>
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width"/>
        <title>OrangeKVM 0.1</title>
        <link rel="stylesheet" type="text/css" href="styles.css">
    </head>
    <script type="text/javascript" src="orangekvm.js"></script>
    <script>
    function reconnect(){{
        linkws("ws://"+hostip+":{wsport}/");
    }}
    reconnect()
    </script>
    <noscript>Your browser doesn't allow javascript. Please use a browser with javascript and websocket enabled.</noscript>
    <body oncontextmenu=self.event.returnValue=false style="width:100%;height:70%;float:top;">
        <div class="rpanel" id="streamcontainer" style="background-color:#b3b3b3;padding: 5px;width: fit-content;height: fit-content;">
            <img id="stream" draggable="false" src="{streamurl}?extra_headers=1,advance_headers=1,dual_final_frames=1" alt="{streamurl}" style="width: min( 95vw , calc( 90vh * 16 / 9 ) );">
        </div>
        <div id="panel" style="position: relative;bottom: -15px;width: 100%;height: 260px;">
            <div id="keyboard" style="width:fit-content;float:left;">
                <div class="rpanel" id="keyboard1" style="background-color:#FF8F00;width:100%;height:240px;float:left;position: relative;">
                    <div style="position: relative">
                    {keyboard1}
                    </div>
                </div>
                <div class="rpanel" id="keyboard2" style="background-color:#FF8F00;width:120px;height:240px;float:left;position: relative;">
                    <div style="position: relative">
                    {keyboard2}
                    </div>
                </div>
                <div class="rpanel" id="keyboard3" style="background-color:#FF8F00;width:160px;height:240px;float:left;position: relative;">
                    <div style="position: relative">
                        <button class="light" id="lednum" style="position: absolute;left: 10px;top: 10px;">
                            1
                        </button>
                        <button class="light" id="ledcaps" style="position: absolute;left: 50px;top: 10px;">
                            A
                        </button>
                        <button class="light" id="ledscroll" style="position: absolute;left: 90px;top: 10px;">
                            S
                        </button>
                        <button class="light" id="wsstatus" style="position: absolute;left: 130px;top: 10px;">
                            
                        </button>
                    {keyboard3}
                    </div>
                </div>
            </div>
            <div class="rpanel" id="mouse" style="background-color:#008FFF;width:120px;height:80px;float:left;">
                <div style="position: relative">
                    <button class='key' id="mouseButtonLeft" style="width:40px;height: 40px;position: absolute;left: 0px;top:0px;">Left</button>
                    <button class='key' id="mouseButtonMiddle" style="width:40px;height: 40px;position: absolute;left: 40px;top:0px;">Mid</button>
                    <button class='key' id="mouseButtonRight" style="width:40px;height: 40px;position: absolute;left: 80px;top:0px;">Right</button><br>
                    <button class='key' id="mouseButtonBack" style="width:60px;height: 40px;position: absolute;left:0px;top: 40px;">Back</button>
                    <button class='key' id="mouseButtonForward" style="width:60px;height: 40px;position: absolute;left: 60px;top: 40px;">Forward</button>
                </div>
            </div>
            <br>
            <button id="mouseModeButton" onclick="cycleMouseMode()">Mouse Mode: Relative</button>
            <br>
            <div class="rpanel" id="infoAndConfig" style="width:100%;background-color: #8dff8d;float:left">
                <button id="releaseAll" onclick="releaseAll()">Release All Keys</button>
                <select id="selectimage">
                    {images}
                </select>
                <button id="loadimage" onclick="loadImage()">Load</button>
                <button id="unloadimage" onclick="unloadImage()">Unload</button>
                <output id="debugoutput" ></output>
                <output id="debugoutput2" ></output>
            </div>
        </div>
    </body>
    <script>
        onLoadComplete()
    </script>
</html>